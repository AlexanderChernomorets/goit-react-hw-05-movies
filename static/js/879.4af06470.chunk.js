"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[879],{879:function(t,n,e){e.r(n),e.d(n,{default:function(){return l}});var r=e(439),a=e(126),c=e(791),u=e(184),o=function(t){var n=t.onSubmit,e=(0,c.useState)(""),a=(0,r.Z)(e,2),o=a[0],i=a[1];return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""===o.trim()&&alert("Please, Enter the film title"),n(o),i("")},children:[(0,u.jsx)("input",{type:"text",name:"searchQuery",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search ...",onChange:function(t){i(t.target.value.toLowerCase())}}),(0,u.jsx)("button",{type:"submit",children:"Search"})]})})},i=e(87),s=e(689),f=e(618),l=function(){var t=(0,i.lr)(),n=(0,r.Z)(t,2),e=n[0],l=n[1],p=(0,c.useState)([]),d=(0,r.Z)(p,2),h=d[0],v=d[1],g=(0,c.useState)(null),m=(0,r.Z)(g,2),x=m[0],y=m[1],k=(0,c.useState)(!1),w=(0,r.Z)(k,2),Z=w[0],S=w[1],b=(0,s.TH)(),j=e.get("query");(0,c.useEffect)((function(){if(j){S(!0),(0,f.Hq)(j).then((function(t){t.length||alert("Movies not found, please try again!"),v(t)})).catch((function(t){y("404 Page Not Found")})).finally(S(!1))}}),[j]);return(0,u.jsxs)(u.Fragment,{children:[Z&&"Loading...",x&&(0,u.jsx)("div",{children:x}),(0,u.jsx)(o,{onSubmit:function(t){l({query:"".concat(t)})}}),h&&(0,u.jsx)(a.Z,{movies:h,prevLocation:b})]})}},618:function(t,n,e){e.d(n,{Bt:function(){return m},Hq:function(){return g},TP:function(){return v},XT:function(){return h},d5:function(){return x}});var r=e(861),a=e(757),c=e.n(a),u=e(912),o="2d47787539d4eda04ce92011fd824a06",i="https://api.themoviedb.org/3",s="/trending/movie/week",f="/search/movie",l="/movie",p="/credits",d="/reviews",h=function(){var t=(0,r.Z)(c().mark((function t(){var n,e=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:1,t.next=3,u.Z.get("".concat(i,"/").concat(s,"?api_key=").concat(o,"&language=en-US&include_adult=false"));case 3:return n=t.sent,t.abrupt("return",n.data.results);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(c().mark((function t(n){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(i,"/").concat(l,"/").concat(n,"?api_key=").concat(o,"&language=en-US"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),g=function(){var t=(0,r.Z)(c().mark((function t(n){var e,r,a=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>1&&void 0!==a[1]?a[1]:1,t.next=3,u.Z.get("".concat(i,"/").concat(f,"?api_key=").concat(o,"&page=").concat(e,"&query=").concat(n,"&language=en-US&include_adult=false"));case 3:return r=t.sent,t.abrupt("return",r.data.results);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(c().mark((function t(n){var e,r,a=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>1&&void 0!==a[1]?a[1]:1,t.next=3,u.Z.get("".concat(i,"/").concat(l,"/").concat(n,"/").concat(d,"?api_key=").concat(o,"&language=en-US&page=").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data.results);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),x=function(){var t=(0,r.Z)(c().mark((function t(n){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(i,"/movie/").concat(n).concat(p,"?api_key=").concat(o,"&language=en-US"));case 2:return e=t.sent,t.abrupt("return",e.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},126:function(t,n,e){var r=e(87),a=e(184);n.Z=function(t){var n=t.movies,e=t.prevLocation;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{children:n.map((function(t){var n=t.id,c=t.original_title;return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"/movies/".concat(n),state:{from:e},children:(0,a.jsx)("h3",{children:c})})},n)}))})})}}}]);
//# sourceMappingURL=879.4af06470.chunk.js.map